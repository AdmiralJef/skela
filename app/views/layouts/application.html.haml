!!! 5
%html
  %head 
    %title Skela
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags

  %body
    .flash.notice.hidden
      %span.vertical_middle= notice
    .flash.alert.hidden
      %span.vertical_middle= alert

    - if current_user && !current_user.show_header
      - helmet_klass = 'hidden'
    - elsif logging_in? || signing_up?
      - helmet_klass = 'hidden'
    - else
      - container_klass = 'hasHeader'
    %div#helmet{class: helmet_klass}
      #hide_show_header
        = link_to 'show/hide', toggle_header_path(id: current_user ? current_user.id : 0), id: 'toggle_header', method: :post, remote: true

      = header_left

      #header_right.flex_box.flex
        %nav.flex_box.flex
          = navigation_link 'users'
          = navigation_link 'issues'
          = navigation_link 'games'
          = navigation_link 'plants'
          = navigation_link 'developer'


          .flex

          - if logged_in?
            %nav#user_nav
              = logged_in_text
              = link_to 'My Profile', my_profile_path, id: 'my_profile_link', class: "user_link link_1 #{'selected' if params[:controller] == 'users' && params[:action] == 'my_profile'}", remote: true
              = link_to 'Logout', logout_path, id: 'logout_button', remote: true, method: :delete, class: 'user_link link_2'
          - else
            = link_to 'Login', login_path, id: 'login_link', remote: true


    #container.invisible{class: container_klass}
      = yield
      %div{style: 'height:24px; width:100%;'}

    .developer_pad.hidden
      #developer_pad_title
        Developer Tools

      %ul.god_buttons
        %li
          = trigger_flash_notice
        %li
          = trigger_flash_alert
        %li
          = hide_stuff

    .spacer
